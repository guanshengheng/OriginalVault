
比赛题目：  [校赛网络赛](https://oj.redrock.team/contest/16)

# A题
汉诺塔问题有一些结论可以在做题时用到。下面所讨论的都是最优的情况。
## 1. 递归规模特性
就盘子数 $n$ 而言，通过递归可以得到，从 A 柱移动到 C 柱所需的总次数 $f(n)$ 遵循以下关系：
> **$f(n) = 2 \cdot f(n-1) + 1$
## 2. 二进制表示与状态映射
对于移动次数，可以利用其二进制特征进行分析：
- 将其二进制表示，**最低一个等于 1 的位**是所需要移动的盘子编号。
- 从最高位前缀和到这一位是已经移动过的次数。
- 注意前缀和时每一位的贡献是乘以权重的，权重是二进制下的位数。
## 3. 移动顺序与奇偶性规律
圆盘的移动路径受到总盘数与盘子编号奇偶性的约束：
- 若盘子数和所移动的盘子奇偶性一致，移动顺序依次是 **A → C → B**。
- 否则，移动顺序是 **A → B → C**。
根据性质解题即可。

# C题
## 1. 核心思路
- **求中位数**，可以**对顶堆模板**解决。
- $l$ 是较小的前一半数**大根堆**（升序排列），$r$ **小根堆**（降序排列）。
## 2. 取值规则
- **偶数时**：$l$、$r$ 个数相等，取靠左的即 $l$ 中的最大值。
- **奇数时**：设置成 $l$ 可以比 $r$ 元素个数多 $1$，从而奇数时可以取到。
- **结论**：无论奇偶都取 $l.top()$ 保证一致性。
## 3. 注意事项
> **添加数到 $l$ 的条件**：需满足 $l.empty( )$ 或 $x \le l.top()$。
- **原因**：这样保证不会是大数进来占据 $top$ 位置。
- **后果**：否则导致本该在后半部分的数到前一半，未经排序导致失效。

# D题
尝试过贪心后发现错误，尝试使用DP求解。
实际上是一道**区间DP**模板题，两重循环遍历长度len和起点i可以求出当前的日期y与终点j。
用 $dp[i][j]$ 表示 $[i, j]$ 这一段区间最大收益。只能由左右两边转移而来。
找到状态转移方程解决问题。
```
            dp[i][j]=max(dp[i+1][j]+y*a[i],dp[i][j-1]+y*a[j]);
```
另外注意开longlong，以及dp数组至少要开n+2大小，因为$dp[i+1][j]$中i是可以取n的，base1所以至少开n+2。

# E题
